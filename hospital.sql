CREATE SCHEMA HOS;
USE HOS;


CREATE TABLE WARD(
WARD_NO INT PRIMARY KEY,
WARD_TYPE VARCHAR(50)
);
INSERT INTO WARD VALUES(01, 'ACCIDENT & EMERGENCY');
INSERT INTO WARD VALUES(02, 'CARDIOLOGY');
INSERT INTO WARD VALUES(03, 'UROLOGY');
SELECT * FROM WARD;

CREATE TABLE NURSE(
NURSE_ID INT PRIMARY KEY,
FNAME VARCHAR(20),
DOB DATE,
SERVICE INT,
WARD_NO INT,
FOREIGN KEY (WARD_NO)
REFERENCES WARD(WARD_NO)
)
ENGINE = INNODB;
INSERT INTO NURSE VALUES(1000, 'ANNE', 18880222, 5, 01);
INSERT INTO NURSE VALUES(1001, 'DIANA', 19940118, 4, 02);
INSERT INTO NURSE VALUES(1002, 'RACHEL', 19901209, 2, 03);
INSERT INTO NURSE VALUES(1003, 'MATHEW', 19890324, 6, 01);
INSERT INTO NURSE VALUES(1004, 'JANE', 19840110, 9, 02);
INSERT INTO NURSE VALUES(1005, 'GILBERT', 19800603, 7, 03);
SELECT * FROM NURSE;

CREATE TABLE DOCTOR(
DOCTOR_ID INT PRIMARY KEY,
FNAME VARCHAR(20),
DOB DATE,
SERVICE INT,
WARD_NO INT,
FOREIGN KEY (WARD_NO)
REFERENCES WARD(WARD_NO)
)
ENGINE = INNODB;
INSERT INTO DOCTOR VALUES(1006, 'JOSIE', 19670330, 20, 01);
INSERT INTO DOCTOR VALUES(1007, 'MARILLA', 19600523, 25, 02);
INSERT INTO DOCTOR VALUES(1008, 'TOM', 19800428, 10, 03);
INSERT INTO DOCTOR VALUES(1009, 'RILLA', 19900703, 4, 01);
SELECT * FROM DOCTOR;

CREATE TABLE PATIENT(
ADMISSION_NO INT PRIMARY KEY,
FOREIGN KEY(DOCTOR_ID)
REFERENCES DOCTOR(DOCTOR_ID),
FNAME VARCHAR(20),
DOB DATE,
PHONE_NO INT,
ADDRESS VARCHAR(100),
DOCTOR_ID INT
)
ENGINE = INNODB;
INSERT INTO PATIENT VALUES(55000, 'Bill', 19990504, 0772344328, 'No.06, Dixon Street, London', 1006);
INSERT INTO PATIENT VALUES(55001, 'Jenny', 19980319, 0717547773, '34/A, Golly Road, Fountain Path', 1007);
INSERT INTO PATIENT VALUES(55002, 'Rose', 19890923, 0789875678, 'No.09, Dixon Street, London', 1008);
INSERT INTO PATIENT VALUES(55003, 'Helen', 19990814, 0772227659, '65/Y, Kingswood Road, Norwood', 1009);
INSERT INTO PATIENT VALUES(55004, 'Roy', 19990504, 0772344328, '78/S, Mulberry Street, Angexla', 1006);
INSERT INTO PATIENT VALUES(55005, 'Ned', 19670720, 0771111767, '66, Carnival Road, Eden', 1007);
INSERT INTO PATIENT VALUES(55006, 'Mary', 19970528, 0772344333, 'No.7, Eisther Street, Warnen Town', 1008);
INSERT INTO PATIENT VALUES(55007, 'Will', 19990714, 0778888454, '34,Arty Apartments, Holf Path', 1007);
INSERT INTO PATIENT VALUES(55008, 'Roberta', 19560703, 0710654526, 'No.04, Angel Avenue, North Street', 1008);
SELECT * FROM PATIENT;

 
CREATE TABLE PATIENT_WARD_MAPPING(
PRIMARY KEY(ADMISSION_NO, WARD_NO),
FOREIGN KEY(ADMISSION_NO)
REFERENCES PATIENT(ADMISSION_NO),
FOREIGN KEY(WARD_NO)
REFERENCES WARD(WARD_NO),
ADMISSION_NO INT,
WARD_NO INT,
ADMITTED_DATE DATE
)
ENGINE = INNODB;
INSERT INTO PATIENT_WARD_MAPPING VALUES(55000, 01, 20180411);
INSERT INTO PATIENT_WARD_MAPPING VALUES(55001, 02, 20180403);
INSERT INTO PATIENT_WARD_MAPPING VALUES(55002, 03, 20180328);
INSERT INTO PATIENT_WARD_MAPPING VALUES(55003, 01, 20180408);
INSERT INTO PATIENT_WARD_MAPPING VALUES(55004, 01, 20180303);
INSERT INTO PATIENT_WARD_MAPPING VALUES(55005, 02, 20180326);
INSERT INTO PATIENT_WARD_MAPPING VALUES(55006, 03, 20180403);
INSERT INTO PATIENT_WARD_MAPPING VALUES(55007, 02, 20180403);
INSERT INTO PATIENT_WARD_MAPPING VALUES(55008, 03, 20180403);
SELECT * FROM PATIENT_WARD_MAPPING;


CREATE TABLE NURSE_PATIENT_MAPPING(
PRIMARY KEY(ADMISSION_NO, NURSE_ID),
FOREIGN KEY(ADMISSION_NO)
REFERENCES PATIENT(ADMISSION_NO),
FOREIGN KEY(NURSE_ID)
REFERENCES NURSE(NURSE_ID),
ADMISSION_NO INT,
NURSE_ID INT,
REMARKS VARCHAR(400)
)
ENGINE = INNODB;
INSERT INTO NURSE_PATIENT_MAPPING VALUES(55000, 1000, 'Broken spine, arm fracture');
INSERT INTO NURSE_PATIENT_MAPPING VALUES(55001, 1001, 'Strokes, body checkup');
INSERT INTO NURSE_PATIENT_MAPPING VALUES(55002, 1002, 'Overactive bladder');
INSERT INTO NURSE_PATIENT_MAPPING VALUES(55003, 1003, 'Burnt hand, germ infection');
INSERT INTO NURSE_PATIENT_MAPPING VALUES(55004, 1000, 'Deep cut on palm, clean wound every two days');
INSERT INTO NURSE_PATIENT_MAPPING VALUES(55005, 1004, 'Pain in chest, possible heart attack');
INSERT INTO NURSE_PATIENT_MAPPING VALUES(55006, 1005, 'Kidney stone');
INSERT INTO NURSE_PATIENT_MAPPING VALUES(55007, 1001, 'Peripheral artery disease');
INSERT INTO NURSE_PATIENT_MAPPING VALUES(55008, 1005, 'Urethral syndrome');
SELECT * FROM NURSE_PATIENT_MAPPING;


SELECT  FNAME, ADDRESS AS 'Urology Ward Patient Details' FROM PATIENT  INNER JOIN PATIENT_WARD_MAPPING  
ON PATIENT.ADMISSION_NO = PATIENT_WARD_MAPPING.ADMISSION_NO
WHERE WARD_NO=03;






 








